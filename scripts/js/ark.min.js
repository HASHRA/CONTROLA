var ArkAdmin = new function ($) {
        "use strict";

        function updateContentHeight() {
            var windowHeight = $(window).height(),
                navHeight = $(".navbar-main").height();
            $(".content").css("min-height", windowHeight - navHeight - 1 + "px")
        }

        function initMenus() {
            function toggleMenu($menu) {
                $menu.toggleClass("open")
            }
            $(document).on("click", ".menu .menu-toggle", function (event) {
                event.preventDefault(), toggleMenu($(this).parents(".menu").first())
            })
        }

        function initControls() {
            $('[data-toggle="tooltip"]').tooltip(), $("input:checkbox, input:radio").uniform(), $(".select2").select2(), $(".pie-chart").length && $(".pie-chart").easyPieChart({
                barColor: "#428bca",
                lineWidth: 4,
                animate: 1e3,
                onStart: function () {
                    if (!this.options.isInit) {
                        this.options.isInit = !0;
                        var color = $(this.el).data("barColor");
                        color && (this.options.barColor = color)
                    }
                },
                onStep: function (oldVal, newVal, crtVal) {
                    //$(this.el).find("span").text(Math.floor(crtVal) + "%")
                }
            })
        }

        function initDatePickers() {
            $(".datepicker").datepicker({
                autoclose: !0
            }), $("#reportrange").daterangepicker({
                ranges: {
                    Today: [moment(), moment()],
                    Yesterday: [moment().subtract("days", 1), moment().subtract("days", 1)],
                    "Last 7 Days": [moment().subtract("days", 6), moment()],
                    "Last 30 Days": [moment().subtract("days", 29), moment()],
                    "This Month": [moment().startOf("month"), moment().endOf("month")],
                    "Last Month": [moment().subtract("month", 1).startOf("month"), moment().subtract("month", 1).endOf("month")]
                },
                startDate: moment().startOf("month"),
                endDate: moment().endOf("month")
            }, function (start, end) {
                $("#reportrange span").html(start.format("MMMM D, YYYY") + " - " + end.format("MMMM D, YYYY"))
            })
        }

        function initCharts(charts) {
            function labelFormatter(label, series) {
                return "<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>" + label + "<br/>" + Math.round(series.percent) + "%</div>"
            }

            function showTooltip(x, y, contents) {
                $('<div id="tooltip">' + contents + "</div>").css({
                    position: "absolute",
                    display: "none",
                    top: y - 30,
                    left: x - 50,
                    color: "#fff",
                    padding: "2px 5px",
                    "border-radius": "6px",
                    "background-color": "#000",
                    opacity: .8
                }).appendTo("body").fadeIn(200)
            }
            var chartLines = {
                series: {
                    lines: {
                        show: !0,
                        lineWidth: 1,
                        fill: !0,
                        fillColor: {
                            colors: [{
                                opacity: .1
                            }, {
                                opacity: .13
                            }]
                        }
                    },
                    points: {
                        show: !0,
                        lineWidth: 2,
                        radius: 3
                    },
                    shadowSize: 0,
                    stack: !0
                },
                grid: {
                    hoverable: !0,
                    clickable: !0,
                    tickColor: "#f9f9f9",
                    borderWidth: 0
                },
                legend: {
                    show: !0,
                    labelBoxBorderColor: "#fff"
                },
                colors: ["#a7b5c5", "#30a0eb"],
                xaxis: {
                    ticks: [
                        [1, "Jan"],
                        [2, "Feb"],
                        [3, "Mar"],
                        [4, "Apr"],
                        [5, "May"],
                        [6, "Jun"],
                        [7, "Jul"],
                        [8, "Aug"],
                        [9, "Sep"],
                        [10, "Oct"],
                        [11, "Nov"],
                        [12, "Dec"]
                    ],
                    font: {
                        size: 12,
                        family: "Open Sans, Arial",
                        color: "#697695"
                    }
                },
                yaxis: {
                    ticks: 3,
                    tickDecimals: 0,
                    font: {
                        size: 12,
                        color: "#9da3a9"
                    }
                }
            }, pieOpts = {
                    series: {
                        pie: {
                            show: !0,
                            radius: 1,
                            label: {
                                show: !0,
                                radius: .75,
                                formatter: labelFormatter,
                                background: {
                                    opacity: .5
                                }
                            }
                        }
                    },
                    legend: {
                        show: !1
                    }
                }, chartBars = {
                    series: {
                        bars: {
                            show: !0,
                            lineWidth: 1,
                            fill: !0,
                            fillColor: {
                                colors: [{
                                    opacity: .1
                                }, {
                                    opacity: .13
                                }]
                            }
                        }
                    },
                    legend: {
                        show: !0,
                        labelBoxBorderColor: "#fff"
                    },
                    colors: ["#30a0eb"],
                    bars: {
                        horizontal: !1,
                        barWidth: .7
                    },
                    grid: {
                        hoverable: !0,
                        clickable: !0,
                        tickColor: "#f9f9f9",
                        borderWidth: 0
                    },
                    xaxis: {
                        ticks: [
                            [1, "Jan"],
                            [2, "Feb"],
                            [3, "Mar"],
                            [4, "Apr"],
                            [5, "May"],
                            [6, "Jun"],
                            [7, "Jul"],
                            [8, "Aug"],
                            [9, "Sep"],
                            [10, "Oct"],
                            [11, "Nov"],
                            [12, "Dec"]
                        ],
                        font: {
                            size: 12,
                            family: "Open Sans, Arial",
                            color: "#697695"
                        }
                    },
                    yaxis: {
                        ticks: 5,
                        tickDecimals: 0,
                        font: {
                            size: 12,
                            color: "#9da3a9"
                        }
                    }
                };
            $.each(charts, function (id, value) {
                if ($(id).length) {
                    var opts = null;
                    switch (value.type) {
                    case "bars":
                        opts = chartBars;
                        break;
                    case "pie":
                        opts = pieOpts;
                        break;
                    default:
                        opts = chartLines
                    }
                    var previousPoint = ($.plot($(id), value.data, opts), null);
                    $(id).bind("plothover", function (event, pos, item) {
                        if (item) {
                            if (previousPoint != item.dataIndex) {
                                previousPoint = item.dataIndex, $("#tooltip").remove();
                                var y = (item.datapoint[0].toFixed(0), item.datapoint[1].toFixed(0)),
                                    month = item.series.xaxis.ticks[item.dataIndex].label;
                                showTooltip(item.pageX, item.pageY, item.series.label + " of " + month + ": " + y)
                            }
                        } else $("#tooltip").remove(), previousPoint = null
                    })
                }
            })
        }
        this.init = function (charts) {
            initControls(), initDatePickers(), initMenus(), "function" == typeof prettyPrint && prettyPrint(), initCharts(charts), updateContentHeight(), $("body").resize(function () {
                updateContentHeight()
            })
        }
    }(jQuery);
jQuery(function () {
    "use strict";
    for (var data = [], i = 0; 5 > i; i++) data[i] = {
        label: "Series" + (i + 1),
        data: Math.floor(20 * Math.random()) + 15
    };
    var charts = {
        "#dashboardConversions": {
            data: [{
                label: "Signups",
                data: [
                    [1, 46],
                    [2, 53],
                    [3, 42],
                    [4, 45],
                    [5, 59],
                    [6, 35],
                    [7, 39],
                    [8, 45],
                    [9, 48],
                    [10, 57],
                    [11, 39],
                    [12, 68]
                ]
            }, {
                label: "Visits",
                data: [
                    [1, 25],
                    [2, 30],
                    [3, 33],
                    [4, 48],
                    [5, 38],
                    [6, 40],
                    [7, 47],
                    [8, 55],
                    [9, 43],
                    [10, 50],
                    [11, 47],
                    [12, 39]
                ]
            }]
        },
        "#dashboardRevenues": {
            type: "bars",
            data: [{
                label: "Sales",
                data: [
                    [1, 51231],
                    [2, 44220],
                    [3, 12455],
                    [4, 24313],
                    [5, 57523],
                    [6, 98432],
                    [7, 90934],
                    [8, 78932],
                    [9, 12367],
                    [10, 67345],
                    [11, 43672],
                    [12, 74213]
                ]
            }]
        },
        "#chartPie": {
            type: "pie",
            data: data
        }
    };
    ArkAdmin.init(charts)
});